(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"802c":function(e,a,s){e.exports=s.p+"img/tt.4217f81e.png"},aeab:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=this,t=a.$createElement,r=a._self._c||t;return r("q-page",{staticClass:"docs-input row justify-center"},[r("div",{staticClass:"col-xl-4 col-lg-4 col-md-3 col-sm-6 col-xs-12 q-pa-md"},[r("div",{staticClass:"text-center q-pb-xs"},[r("div",{staticClass:"text-grey-7"},[r("q-toolbar",{attrs:{inset:""}},[r("q-breadcrumbs",{staticStyle:{"font-size":"25px"},attrs:{"active-color":"white"}})],1),r("q-img",{attrs:{src:s("802c"),width:"25%"}})],1)]),r("q-form",{staticClass:"q-gutter-md",on:{submit:a.onSubmit}},[r("q-input",{attrs:{filled:"",color:"grey",label:"Ex: carlos43 *",hint:"Utilizador",error:a.isTest,required:"","lazy-rules":"",rules:[function(e){return e&&e.length>3||"Utilizador Inválido"}]},model:{value:a.user.username,callback:function(e){a.$set(a.user,"username",e)},expression:"user.username"}}),r("q-input",{attrs:{color:"grey",filled:"",type:a.isPwd?"password":"text",label:"Ex: 142135 *",hint:"Palavra-passe","lazy-rules":"",rules:[function(e){return e&&e.length>3||"Palavra-Passe Inválida"}]},scopedSlots:a._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{error:a.isTest,name:a.isPwd?"visibility_off":"visibility"},on:{click:function(e){a.isPwd=!a.isPwd}}})]},proxy:!0}]),model:{value:a.user.password,callback:function(e){a.$set(a.user,"password",e)},expression:"user.password"}}),r("div",{staticClass:"row"},[r("q-btn",{staticClass:"full-width no-border-radius",staticStyle:{height:"45px"},attrs:{padding:"",label:"Entrar",type:"submit",color:"positive"}})],1)],1),r("q-avatar",{staticStyle:{cursor:"pointer"},attrs:{clickable:""},on:{click:function(e){return a.goInfo()}}},[r("q-icon",{staticClass:"text-grey-7",attrs:{size:"md",name:"keyboard"}})],1),r("label",{staticClass:"text-grey-7",staticStyle:{cursor:"pointer"},attrs:{clickable:""},on:{click:function(e){return a.goInfo()}}},[r("b",[a._v("Desenvolvido por: Infoscript")])]),r("q-dialog",{attrs:{persistent:"",position:"top"},model:{value:a.recover_password,callback:function(e){a.recover_password=e},expression:"recover_password"}},[r("q-card",{},[r("q-linear-progress",{attrs:{value:1,color:"primary"}}),r("q-card-section",{staticClass:"row items-center no-wrap q-gutter-md"},[r("q-form",{staticClass:"row q-gutter-md",on:{submit:function(e){return a.changePassword()}}},[r("div",{staticClass:"col-md-12"},[r("p",{staticClass:"text-subtitle1 text-bold text-grey-7"},[a._v('\n                  "Por Motivos de Segurança pedimos encarecidamente que\n                  '),r("b",{staticClass:"text-primary"},[a._v("altere a sua Palavra-Passe")]),a._v(', Por\n                  Favor!"\n                ')])]),r("div",{staticClass:"col-md-12"},[r("q-input",{attrs:{autofocus:"",label:"Nova Palavra-Passe",filled:"",type:a.isPwdx?"password":"text","lazy-rules":"",rules:[function(e){return e&&e.length>5&&"123456"!==e||"Não pode ter Menos de 6 caract. e Não pode ser 123456"}]},scopedSlots:a._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{error:a.isTestx,name:a.isPwdx?"visibility_off":"visibility"},on:{click:function(e){a.isPwdx=!a.isPwdx}}})]},proxy:!0}]),model:{value:a.pass.NovaPassword,callback:function(e){a.$set(a.pass,"NovaPassword",e)},expression:"pass.NovaPassword"}})],1),r("div",{staticClass:"col-md-12"},[r("q-input",{attrs:{label:"Confirmar Palavra-Passe",filled:"",type:a.isPwdx?"password":"text","lazy-rules":"",rules:[function(a){return a&&a===e.pass.NovaPassword||"Confirmação diferente da Nova Palavra-Passe"}]},scopedSlots:a._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{error:a.isTestx,name:a.isPwdx?"visibility_off":"visibility"},on:{click:function(e){a.isPwdx=!a.isPwdx}}})]},proxy:!0}]),model:{value:a.confPass,callback:function(e){a.confPass=e},expression:"confPass"}})],1),r("div",{staticClass:"col-md-12"},[r("q-btn",{staticClass:"q-ml-md",attrs:{color:"blue-7",type:"submit","icon-right":"send",label:"Actualizar"}})],1)]),r("q-space")],1)],1)],1)],1)])},r=[],o=s("c973"),n=s.n(o),i=s("a34a"),l=s.n(i),c=(s("bc3a"),s("b383")),u=s.n(c),d=s("cf57"),p=(s("e669"),s("6bed")),m={name:"PageIndex",data:function(){return{recover_password:!1,userLogado:JSON.parse(localStorage.getItem("userlogado")),isTestx:!1,isPwdx:!0,pass:{Username:null,PasswordAntiga:"123456",NovaPassword:null},confPass:null,user:{username:null,password:null,grant_type:"password"},userLogged:{},isTest:!1,isPwd:!0,changeId:null}},methods:{goInfo:function(){window.open("https://www.infoscriptlt.com/","_blank")},lprocessar:function(){var e="undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerGears;"undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment;this.$q.loading.show({spinner:e,message:"Por favor, aguarde alguns segundos..."})},lmsg:function(e,a,s){var t=this,r=("undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerGears,"undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment);this.timer=setTimeout((function(){t.$q.loading.show({spinner:r,spinnerColor:s,messageColor:"white",backgroundColor:e,message:a}),t.timer=setTimeout((function(){t.$q.loading.hide(),t.timer=void 0}),3e3)}),0)},changePassword:function(){var e=this;return n()(l.a.mark((function a(){var s,t;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s="undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment,e.lprocessar(),a.prev=2,a.next=5,e.$store.dispatch("users/reiniciarPalavraPasse",{Id:e.changeId,NovaPassword:e.pass.NovaPassword});case 5:t=a.sent,0==t.data.statusCode?e.timer=setTimeout((function(){e.$q.loading.show({spinner:s,spinnerColor:"green-4",message:"Palavra-Passe Actualizada com sucesso*"}),e.timer=setTimeout((function(){e.$q.loading.hide(),e.timer=void 0,e.changeId=null,e.$router.push("/dashboard")}),1e3)}),0):e.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red"),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),e.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red");case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},logout:function(){localStorage.removeItem("Authorization"),localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("state"),localStorage.removeItem("personId"),localStorage.removeItem("fullName"),localStorage.removeItem("userlogado")},onSubmit:function(){var e=this;return n()(l.a.mark((function a(){var s,t,r;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.changeId=null,s="undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment,null!=e.user.username&&null!=e.user.password&&""!=e.user.username&&""!=e.user.password){a.next=5;break}a.next=28;break;case 5:return e.lprocessar(),a.prev=6,a.next=9,e.$store.dispatch("login/login",u.a.stringify(e.user));case 9:return t=a.sent,localStorage.setItem("Authorization",t.data.access_token),a.next=13,e.$store.dispatch("login/userLogged");case 13:r=a.sent,localStorage.setItem("userlogado",JSON.stringify(r.data)),localStorage.setItem("username",r.data.login),localStorage.setItem("userId",r.data.idUtilizador),localStorage.setItem("email",r.data.email),localStorage.setItem("state",r.data.isActivo),localStorage.setItem("fullName",r.data.nome),e.changeId=r.data.idUtilizador,null===r.data||"true"!=r.data.isActivo&&1!=r.data.isActivo?null===r.data||"false"!=r.data.isActivo&&0!=r.data.isActivo&&null!=r.data.isActivo||(e.lmsg("red","Este Utilizador Está Desativado! * ".concat(e.user.username),"red"),e.logout()):e.timer=setTimeout((function(){e.$q.loading.show({spinner:s,spinnerColor:"green-4",message:"Acesso Permido, Bem-Vindo * ".concat(JSON.parse(localStorage.getItem("userlogado")).nome)}),e.timer=setTimeout((function(){e.$q.loading.hide(),e.timer=void 0,"123456"==e.user.password?e.recover_password=!0:e.$router.push("/dashboard")}),1e3)}),0),a.next=28;break;case 24:a.prev=24,a.t0=a["catch"](6),e.lmsg("red","Ups!... Utlizador Ou Palavra-Passe Incorrecta, por favor verifique!","red"),e.logout();case 28:case"end":return a.stop()}}),a,null,[[6,24]])})))()},beforeDestroy:function(){void 0!==this.timer&&(clearTimeout(this.timer),this.$q.loading.hide())}}},f=m,g=s("2877"),v=s("9989"),w=s("65c6"),b=s("ead5"),h=s("0016"),P=s("068f"),x=s("0378"),y=s("27f9"),q=s("9c40"),S=s("cb32"),I=s("24e8"),C=s("f09f"),k=s("6b1d"),Q=s("a370"),_=s("2c91"),N=s("eebe"),$=s.n(N),z=Object(g["a"])(f,t,r,!1,null,null,null);a["default"]=z.exports;$()(z,"components",{QPage:v["a"],QToolbar:w["a"],QBreadcrumbs:b["a"],QIcon:h["a"],QImg:P["a"],QForm:x["a"],QInput:y["a"],QBtn:q["a"],QAvatar:S["a"],QDialog:I["a"],QCard:C["a"],QLinearProgress:k["a"],QCardSection:Q["a"],QSpace:_["a"]})}}]);