(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"6b7b":function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"flex bg-white"},[e("div",{staticClass:"full-width"},[e("div",{staticClass:"q-ma-sm"},[e("q-bar",{staticClass:"bg-grey-4 text-grey-7 text-bold",staticStyle:{height:"47px"},attrs:{dense:""}},[e("q-icon",{staticClass:"q-pr-md",staticStyle:{"padding-left":"27px"},attrs:{size:"sm",name:"account_box"}}),e("div",[t._v("Meu Perfil")]),e("q-space"),e("q-icon",{attrs:{name:"near_me"}})],1),e("q-card",{staticClass:"my-card q-mt-sm no-border-radius"},[e("q-list",[e("q-item",{staticClass:"bg-grey-3 q-mb-md"},[e("q-item-section",{attrs:{avatar:""}},[e("img",{attrs:{src:"statics/logo/userx.png",width:"60",height:"60"}})]),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-9 text-bold"},[t._v(t._s(t.getText(t.userLogado.nome)))]),e("q-item-label",{staticClass:"text-grey-9",attrs:{caption:""}},[t._v("usr.: "+t._s(t.getText(t.userLogado.login)))])],1)],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"red",name:"person"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-7"},[e("b",[t._v(t._s(t.getText(t.userLogado.login)))])]),e("q-item-label",{attrs:{caption:""}},[t._v("Utilizador")])],1)],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"amber",name:"settings_input_composite"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-7"},t._l(t.userLogado.permissoes,(function(s){return e("q-badge",{key:s.idPermissao,staticClass:"q-mr-md",attrs:{color:"grey-8"}},[t._v(t._s(s.nome))])})),1),e("q-item-label",{attrs:{caption:""}},[t._v("Permissões")])],1)],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"blue-5",name:"email"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-7"},[e("b",[t._v(t._s(t.getText(t.userLogado.email)))])]),e("q-item-label",{attrs:{caption:""}},[t._v("E-mail")])],1)],1),e("q-item",{staticClass:"q-pb-md",attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"green",name:"touch_app"}})],1),e("q-item-section",[e("q-item-label",{class:1==t.userLogado.isActivo?"text-green-7 text-bold":"text-red-7 text-bold"},[t._v(t._s(1==t.getText(t.userLogado.isActivo)?"Activo":"Inativo"))]),e("q-item-label",{attrs:{caption:""}},[t._v("Estado")])],1)],1),e("q-separator"),e("q-item",{staticClass:"q-pb-md q-pt-md"},[e("q-item-section",[e("q-item-label",{staticClass:"q-gutter-sm"},[e("q-btn",{staticClass:"bg-pink-5 text-white",attrs:{size:"md",label:"Alterar Palavra-Passe"},on:{click:function(s){t.recover_password=!0}}})],1)],1)],1)],1)],1)],1)]),e("q-dialog",{attrs:{persistent:"",position:"top"},model:{value:t.recover_password,callback:function(s){t.recover_password=s},expression:"recover_password"}},[e("q-card",{},[e("q-linear-progress",{attrs:{value:1,color:"primary"}}),e("q-card-section",{staticClass:"row items-center no-wrap q-gutter-md"},[e("q-form",{staticClass:"row q-gutter-md",on:{submit:function(s){return t.changePassword()}}},[e("div",{staticClass:"col-md-12"},[e("q-input",{attrs:{autofocus:"",label:"Palavra-Passe Antiga",filled:"",type:t.isPwd?"password":"text","lazy-rules":"",rules:[function(s){return s&&s.length>5||"Palavra-Passe Inválida"}]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{error:t.isTest,name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.pass.PasswordAntiga,callback:function(s){t.$set(t.pass,"PasswordAntiga",s)},expression:"pass.PasswordAntiga"}})],1),e("div",{staticClass:"col-md-12"},[e("q-input",{attrs:{label:"Nova Palavra-Passe",filled:"",type:t.isPwd?"password":"text","lazy-rules":"",rules:[function(s){return s&&s.length>5&&"123456"!==s||"Não pode ter Menos de 6 caract. e Não pode ser 123456"}]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{error:t.isTest,name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.pass.NovaPassword,callback:function(s){t.$set(t.pass,"NovaPassword",s)},expression:"pass.NovaPassword"}})],1),e("div",{staticClass:"col-md-12"},[e("q-input",{attrs:{label:"Confirmar Palavra-Passe",filled:"",type:t.isPwd?"password":"text","lazy-rules":"",rules:[function(t){return t&&t===s.pass.NovaPassword||"Confirmação diferente da Nova Palavra-Passe"}]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{error:t.isTest,name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.confPass,callback:function(s){t.confPass=s},expression:"confPass"}})],1),e("div",{staticClass:"col-md-12"},[e("q-btn",{staticClass:"q-ml-md",attrs:{color:"red","icon-right":"cancel",label:"Cancelar"},on:{click:function(s){return t.cleanCampos()}}}),e("q-btn",{staticClass:"q-ml-md",attrs:{color:"blue-7",type:"submit","icon-right":"send",label:"Actualizar"}})],1)]),e("q-space")],1)],1)],1)],1)},i=[],r=a("c973"),o=a.n(r),n=a("a34a"),l=a.n(n),c=(a("b383"),a("cf57")),d=(a("e669"),a("6bed")),u={data:function(){return{tab:"itens",recover_password:!1,userLogado:JSON.parse(localStorage.getItem("userlogado")),text:"",isTest:!1,isPwd:!0,pass:{Username:null,PasswordAntiga:null,NovaPassword:null},confPass:null}},mounted:function(){},methods:{lprocessar:function(){var s="undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears;"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment;this.$q.loading.show({spinner:s,message:"Por favor, aguarde alguns segundos..."})},lmsg:function(s,t,a){var e=this,i=("undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears,"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment);this.timer=setTimeout((function(){e.$q.loading.show({spinner:i,spinnerColor:a,messageColor:"white",backgroundColor:s,message:t}),e.timer=setTimeout((function(){e.$q.loading.hide(),e.timer=void 0}),3e3)}),3e3)},cleanCampos:function(){this.pass.PasswordAntiga=null,this.pass.NovaPassword=null,this.confPass=null,this.recover_password=!1},getText:function(s){return""==s||null==s?"------":s},changePassword:function(){var s=this;return o()(l.a.mark((function t(){var a,e;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment,s.lprocessar(),t.prev=2,s.pass.Username=s.userLogado.login,t.next=6,s.$store.dispatch("users/changePassword",s.pass);case 6:e=t.sent,0==e.data.statusCode?s.timer=setTimeout((function(){s.$q.loading.show({spinner:a,spinnerColor:"green-4",message:"Palavra-Passe Actualizada com sucesso*"}),s.timer=setTimeout((function(){s.$q.loading.hide(),s.timer=void 0,s.cleanCampos()}),1e3)}),0):s.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),s.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red");case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},m=u,p=a("2877"),g=a("9989"),f=a("d847"),v=a("0016"),q=a("2c91"),b=a("f09f"),w=a("1c1c"),P=a("66e5"),C=a("4074"),x=a("0170"),h=a("9c40"),y=a("58a8"),_=a("eb85"),Q=a("24e8"),k=a("6b1d"),S=a("a370"),T=a("0378"),N=a("27f9"),A=a("eebe"),L=a.n(A),$=Object(p["a"])(m,e,i,!1,null,null,null);t["default"]=$.exports;L()($,"components",{QPage:g["a"],QBar:f["a"],QIcon:v["a"],QSpace:q["a"],QCard:b["a"],QList:w["a"],QItem:P["a"],QItemSection:C["a"],QItemLabel:x["a"],QBtn:h["a"],QBadge:y["a"],QSeparator:_["a"],QDialog:Q["a"],QLinearProgress:k["a"],QCardSection:S["a"],QForm:T["a"],QInput:N["a"]})}}]);