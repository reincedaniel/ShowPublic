(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"90e9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex bg-white"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"q-pt-sm q-pl-sm q-pr-sm q-gutter-sm"},[a("q-bar",{staticClass:"bg-grey-4 text-grey-7 text-bold",staticStyle:{height:"47px"},attrs:{dense:""}},[a("q-icon",{staticClass:"q-pr-md",staticStyle:{"padding-left":"27px"},attrs:{size:"sm",name:"label_off"}}),a("div",[e._v("Contratos - Pagos")]),a("q-space"),a("q-icon",{attrs:{name:"label_off"}})],1),a("div",{},[1==e.loadx?a("div",{staticClass:"q-pa-md text-center"},[a("q-spinner-tail",{attrs:{size:"xl",color:"info"}})],1):a("q-table",{staticClass:"no-border-radius",attrs:{color:"primary","card-class":"bg-green-2 text-primary","table-class":"text-primary-8","table-header-class":"text-primary",title:"",data:e.data,columns:e.columns,"row-key":"designacao","selected-rows-label":e.getSelectedString,"rows-per-page-label":"Mostrar","no-results-label":"Nenhum dado encontrado!","no-data-label":"...",headerClasses:"text-red",filter:e.filter},scopedSlots:e._u([{key:"top-left",fn:function(){return[a("q-btn",{staticClass:"q-mt-sm q-mb-sm no-border-radius q-mr-xs",attrs:{color:"blue-9","icon-right":"archive",label:"Exportar Para Excel","no-caps":"",size:"sm"}}),a("q-btn",{staticClass:"q-mr-xs",attrs:{size:"sm",color:"info",icon:"line_style"}}),a("q-btn",{attrs:{size:"sm",color:"green-8",icon:"format_clear"},on:{click:function(t){e.filter=""}}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{staticClass:"q-pa-md",staticStyle:{width:"500px"},attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Pesquisar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}}),a("q-btn",{attrs:{color:"green-8",icon:"label_off"},on:{click:function(t){e.filter=""}}}),a("q-btn",{attrs:{label:"Adicionar",color:"info",icon:"add_circle"},on:{click:function(t){return e.showEmpresa()}}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{staticClass:"text-bold text-grey-8 text-body2"},[a("q-btn-dropdown",{staticClass:"no-border-radius",attrs:{size:"xs",icon:"vertical_split",color:"info",label:""}},[a("div",{staticClass:"row no-wrap q-pa-md"},[a("div",{staticClass:"column"},[a("div",{staticClass:"text-subtitle1 text-bold text-grey-7 q-mb-md"},[e._v("\n                        Operações\n                      ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mb-xs",attrs:{icon:"history",color:"green-8",label:"Detalhes",push:"",size:"sm"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mb-xs",attrs:{icon:"bookmarks",color:"purple-8",label:"Adicionar Máquina",push:"",size:"sm"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mb-xs",attrs:{icon:"edit",color:"blue-8",label:"Alterar",push:"",size:"sm"},on:{click:function(a){return e.showEmpresaEdit(t.row)}}})],1)])])],1),e._l(t.cols,(function(s){return a("q-td",{key:s.name,staticClass:"text-bold",attrs:{props:t}},[e._v(e._s(s.value))])}))],2)]}}])})],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:e.btnAddEmpresa,callback:function(t){e.btnAddEmpresa=t},expression:"btnAddEmpresa"}},[a("q-card",{staticClass:"bg-white text-grey-8 no-border-radius",staticStyle:{width:"700px","max-width":"80vw"}},[a("q-bar",{staticClass:"bg-info text-white"},[a("q-space"),a("q-btn",{attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"content-class":"bg-white text-info"}},[e._v("Fechar")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6"},[a("div",[a("q-icon",{attrs:{size:"xl",name:"add"}}),e._v("Adicionar Empresa")],1)])]),a("q-card-section",[a("q-form",{staticClass:"form-group",on:{submit:function(t){return e.addEmpresa(e.empresa)}}},[a("div",{staticClass:"row q-pb-md"},[a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",autofocus:"",label:"Nome da Empresa",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Empresa Inválida"}]},model:{value:e.empresa.nome,callback:function(t){e.$set(e.empresa,"nome",t)},expression:"empresa.nome"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"NIF.",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"NIF: Inválido"}]},model:{value:e.empresa.nif,callback:function(t){e.$set(e.empresa,"nif",t)},expression:"empresa.nif"}})],1)]),a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Província",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Província Inválida"}]},model:{value:e.empresa.provincia,callback:function(t){e.$set(e.empresa,"provincia",t)},expression:"empresa.provincia"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Município",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Município Inválido"}]},model:{value:e.empresa.municipio,callback:function(t){e.$set(e.empresa,"municipio",t)},expression:"empresa.municipio"}})],1)]),a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Sócio",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Sócio Inválido"}]},model:{value:e.empresa.socio,callback:function(t){e.$set(e.empresa,"socio",t)},expression:"empresa.socio"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Gerente",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Gerente Inválido"}]},model:{value:e.empresa.gerente,callback:function(t){e.$set(e.empresa,"gerente",t)},expression:"empresa.gerente"}})],1)]),a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Gerente(Tel.1)",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Gerente(Tel.1) Inválido"}]},model:{value:e.empresa.gerenteTel1,callback:function(t){e.$set(e.empresa,"gerenteTel1",t)},expression:"empresa.gerenteTel1"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Gerente(Tel.2)",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Gerente(Tel.2) Inválido"}]},model:{value:e.empresa.gerenteTel2,callback:function(t){e.$set(e.empresa,"gerenteTel2",t)},expression:"empresa.gerenteTel2"}})],1)])]),a("div",{staticClass:"row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"red","icon-right":"cancel",label:"Cancelar"},on:{click:function(t){e.btnAddEmpresa=!1}}}),null!=e.empresa.gerenteTel1?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"info",type:"submit","icon-right":"send",label:"Confirmar"}}):e._e()],1)])],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:e.btnEditEmpresa,callback:function(t){e.btnEditEmpresa=t},expression:"btnEditEmpresa"}},[a("q-card",{staticClass:"bg-white text-grey-8 no-border-radius",staticStyle:{width:"700px","max-width":"80vw"}},[a("q-bar",{staticClass:"bg-info text-white"},[a("q-space"),a("q-btn",{attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"content-class":"bg-white text-info"},on:{click:function(t){return e.showEmpresa()}}},[e._v("Fechar")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6"},[a("div",[a("q-icon",{attrs:{size:"xl",name:"edit"}}),e._v("Alterar Empresa")],1)])]),a("q-card-section",[a("q-form",{staticClass:"form-group",on:{submit:function(t){return e.addEmpresa(e.empresa)}}},[a("div",{staticClass:"row q-pb-md"},[a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",autofocus:"",label:"Nome da Empresa",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Empresa Inválida"}]},model:{value:e.empresa.nome,callback:function(t){e.$set(e.empresa,"nome",t)},expression:"empresa.nome"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"NIF.",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"NIF: Inválido"}]},model:{value:e.empresa.nif,callback:function(t){e.$set(e.empresa,"nif",t)},expression:"empresa.nif"}})],1)]),a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Província",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Província Inválida"}]},model:{value:e.empresa.provincia,callback:function(t){e.$set(e.empresa,"provincia",t)},expression:"empresa.provincia"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Município",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Município Inválido"}]},model:{value:e.empresa.municipio,callback:function(t){e.$set(e.empresa,"municipio",t)},expression:"empresa.municipio"}})],1)]),a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Sócio",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Sócio Inválido"}]},model:{value:e.empresa.socio,callback:function(t){e.$set(e.empresa,"socio",t)},expression:"empresa.socio"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Gerente",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Gerente Inválido"}]},model:{value:e.empresa.gerente,callback:function(t){e.$set(e.empresa,"gerente",t)},expression:"empresa.gerente"}})],1)]),a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Gerente(Tel.1)",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Gerente(Tel.1) Inválido"}]},model:{value:e.empresa.gerenteTel1,callback:function(t){e.$set(e.empresa,"gerenteTel1",t)},expression:"empresa.gerenteTel1"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Gerente(Tel.2)",filled:"","lazy-rules":"",required:"",rules:[function(e){return e&&e.length>0||"Gerente(Tel.2) Inválido"}]},model:{value:e.empresa.gerenteTel2,callback:function(t){e.$set(e.empresa,"gerenteTel2",t)},expression:"empresa.gerenteTel2"}})],1)])]),a("div",{staticClass:"row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"red","icon-right":"cancel",label:"Cancelar"},on:{click:function(t){e.btnEditEmpresa=!1}}}),null!=e.empresa.gerenteTel1?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"light-blue",type:"submit","icon-right":"send",label:"Confirmar"}}):e._e()],1)])],1)],1)],1)],1)])])},r=[],i=a("967e"),n=a.n(i),l=(a("96cf"),a("fa84")),o=a.n(l),c=(a("28a5"),a("6b54"),a("06db"),a("b383"),a("cf57")),u=(a("e669"),a("6bed")),d=a("d272"),p={data:function(){var e=this;return{userLogado:JSON.parse(localStorage.getItem("userlogado")),loadx:!1,empresa:{id:null,isActivo:!0},btnAddEmpresa:!1,btnEditEmpresa:!1,filter:"",columns:[{align:"left",label:"Operações",sortable:!0},{align:"left",label:"Divida",sortable:!0},{align:"left",label:"Estado",sortable:!0},{name:"descricao",required:!0,label:"Empresa",align:"left",field:function(t){return e.getNull(t.empresa?t.empresa.nome:"")},format:function(e){return"".concat(e)},sortable:!0},{name:"nif",required:!0,label:"NIF.",align:"left",field:function(t){return e.getNull(t.empresa?t.empresa.nif:"")},format:function(e){return"".concat(e)},sortable:!0},{name:"municipio",required:!0,label:"Província/Município",align:"left",field:function(t){return e.getNull(t.empresa?t.empresa.municipio.provincia.descricao:"")+" / "+e.getNull(t.empresa?t.empresa.municipio.descricao:"")},format:function(e){return"".concat(e)},sortable:!0},{name:"gerente",required:!0,label:"Gerente",align:"left",field:function(t){return e.getNull(t.empresa?t.empresa.gerente.nomeCompleto:"")},format:function(e){return"".concat(e)},sortable:!0},{name:"gerenteemail",required:!0,label:"E-mail *Gerente",align:"left",field:function(t){return e.getNull(t.empresa?t.empresa.gerente.email:"")},format:function(e){return"".concat(e)},sortable:!0},{name:"gerenteTel1",required:!0,label:"Contactos *Gerente",align:"left",field:function(t){return e.getNull(t.empresa?t.empresa.gerente.contacto1+" | "+t.empresa.gerente.contacto2+" | "+t.empresa.gerente.contacto3:"")},format:function(e){return"".concat(e)},sortable:!0},{name:"dataConclusaoDivida",required:!0,label:"Data Conclusão/Divida",align:"left",field:function(t){return e.getNullDate(t.dataConclusaoDivida)},format:function(e){return"".concat(e)},sortable:!0},{name:"motivoNaoPagamento",required:!0,label:"Motivo Ñ Pag.",align:"left",field:function(t){return e.getNull(t.motivoNaoPagamento?t.motivoNaoPagamento:"")},format:function(e){return"".concat(e)},sortable:!0}],data:[]}},created:function(){this.fasSignal=d["b"],this.fasWifi=d["c"],this.fasBatteryFull=d["a"]},mounted:function(){this.booting()},methods:{booting:function(){this.getAcessoMENU("admin")||this.getAcessoMENU("gestor")?this.listar():this.$router.push("/dashboard")},getAcessoMENU:function(e){if(this.userLogado)return!(!this.userLogado||!this.userLogado.roles.filter((function(t){return t.nome.toString().toLowerCase()===e})).length)},getNullDate:function(e){return null==e||""==e?"------":e.toString().split("T")[0]},getNull:function(e){return null==e||""==e?"------":e},addEmpresa:function(e){if(""!=e.descricao&&""!=e.codigo){e.id=this.data.length+1,this.lmsg("info","Operação realizada com sucesso!","info"),console.log("Maq: ",e);var t={id:e.id+1,nome:e.nome,nif:e.nif,provincia:e.provincia,municipio:e.municipio,socio:e.socio,gerente:e.gerente,gerenteTel1:e.gerenteTel1,gerenteTel2:e.gerenteTel2,isActivo:!0};this.data.push(t),this.btnAddEmpresa=!1,this.btnEditEmpresa=!1}else this.lmsg("orange","Preencha todos os campos","orange")},showEmpresa:function(){this.btnAddEmpresa=!this.btnAddEmpresa,this.empresa={},this.btnEditEmpresa=!1},showEmpresaEdit:function(e){this.btnEditEmpresa=!this.btnAddEmpresa,this.empresa.descricao="",this.empresa.codigo="",1==this.btnEditEmpresa&&(this.empresa={id:e.id,nome:e.nome,nif:e.nif,provincia:e.provincia,municipio:e.municipio,socio:e.socio,gerente:e.gerente,gerenteTel1:e.gerenteTel1,gerenteTel2:e.gerenteTel2,isActivo:e.isActivo})},lmsg:function(e,t,a){var s=this,r=("undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears,"undefined"!==typeof u["a"]?u["a"]:Quasar.components.QSpinnerComment);this.timer=setTimeout((function(){s.$q.loading.show({spinner:r,spinnerColor:a,messageColor:"white",backgroundColor:e,message:t}),s.timer=setTimeout((function(){s.$q.loading.hide(),s.timer=void 0}),1e3)}),100)},getSelectedString:function(){return 0===this.selected.length?"":"".concat(this.selected.length," linha").concat(this.selected.length>1?"s":""," selecionada").concat(this.selected.length>1?"s":""," de ").concat(this.data.length," Registro").concat(this.data.length>1?"s":"")},listar:function(){var e=o()(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.filter="","undefined"!==typeof u["a"]?u["a"]:Quasar.components.QSpinnerComment,e.prev=2,this.loadx=!0,e.next=6,this.$store.dispatch("maquinas/pagos");case 6:t=e.sent,null!=t.data?this.timer=setTimeout((function(){a.timer=setTimeout((function(){a.$q.loading.hide(),a.timer=void 0,a.data=t.data,a.lista=t.data,a.loadx=!1}),1e3)}),0):this.lmsg("red","ups! Ocorreu um erro internamente","red"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),this.lmsgx("red-9",e.t0,"red-9");case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}()}},m=p,f=a("2877"),b=a("eebe"),g=a.n(b),v=a("9989"),h=a("d847"),q=a("0016"),x=a("2c91"),C=a("007d"),w=a("eaac"),E=a("9c40"),y=a("27f9"),T=a("bd08"),k=a("db86"),N=a("f20b"),z=a("9564"),S=a("58a8"),I=a("24e8"),Q=a("f09f"),$=a("05c0"),_=a("a370"),A=a("0378"),G=a("7f67"),P=Object(f["a"])(m,s,r,!1,null,"1fd95073",null);t["default"]=P.exports;g()(P,"components",{QPage:v["a"],QBar:h["a"],QIcon:q["a"],QSpace:x["a"],QSpinnerTail:C["a"],QTable:w["a"],QBtn:E["a"],QInput:y["a"],QTr:T["a"],QTd:k["a"],QBtnDropdown:N["a"],QToggle:z["a"],QBadge:S["a"],QDialog:I["a"],QCard:Q["a"],QTooltip:$["a"],QCardSection:_["a"],QForm:A["a"]}),g()(P,"directives",{ClosePopup:G["a"]})}}]);