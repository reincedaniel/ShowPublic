(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"86ef":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex bg-white"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"q-pt-sm q-pl-sm q-pr-sm q-gutter-sm"},[a("q-bar",{staticClass:"bg-grey-4 text-grey-7 text-bold",staticStyle:{height:"47px"},attrs:{dense:""}},[a("q-icon",{staticClass:"q-pr-md",staticStyle:{"padding-left":"27px"},attrs:{size:"sm",name:"update"}}),a("div",[t._v("Meu Histórico\n")]),a("q-space")],1),a("div",{},[t._e(),a("q-tab-panels",{attrs:{animated:""},model:{value:t.menuInterno,callback:function(e){t.menuInterno=e},expression:"menuInterno"}},[a("q-tab-panel",{attrs:{name:"det"}},[a("div",{staticClass:"row "},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"col-md-12 q-mb-sm"},[a("q-expansion-item",{staticClass:"bg-grey-9 text-bold text-white",attrs:{icon:"local_offer",label:"Informações"},model:{value:t.expandedx1,callback:function(e){t.expandedx1=e},expression:"expandedx1"}},[a("q-card",[a("q-card-section",{},[a("q-list",{staticClass:"text-grey-8"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"business"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.bindText(t.detalheEmpresa.nome)))]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}},[t._v("Empresa")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"dialpad"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.bindText(t.detalheEmpresa.nif)))]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}},[t._v("NIF")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"email",color:"indigo-10"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"indigo-10"},[t._v(t._s(t.bindText(t.detalheEmpresa.email)))]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}},[t._v("E-mail*")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"explore"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                                  "+t._s(t.detalheEmpresa.municipio?t.detalheEmpresa.municipio.descricao:"----")+"\n                                  "+t._s(t.detalheEmpresa.municipio&&t.detalheEmpresa.municipio.provincia?t.detalheEmpresa.municipio.provincia.descricao:"----")+"\n                                ")]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}},[t._v("Provícia/Município")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:t.detalheEmpresa.isActive?"green":"red",name:"data_usage"}})],1),a("q-item-section",[a("q-item-label",{class:t.detalheEmpresa.isActive?"text-green":"text-red"},[t._v("\n                                  "+t._s(t.detalheEmpresa.isActive?"ON":"OFF")+"\n                                ")]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}},[t._v("Estado")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-separator",{attrs:{spaced:""}}),a("q-item-label",{staticClass:"text-bold text-grey-5"},[t._v("Dados do Gerente")]),a("q-separator",{attrs:{spaced:""}}),a("q-separator",{attrs:{spaced:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"person",color:"indigo-10"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"indigo-10"},[t._v(t._s(t.bindText(t.detalheEmpresa.gerente?t.detalheEmpresa.gerente.nomeCompleto:null)))]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}},[t._v("Gerente")])],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"contact_mail",color:"grey-8"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-grey-8"},[t._v("\n                                  E-mail:\n                                  "+t._s(t.bindText(t.detalheEmpresa.gerente?t.detalheEmpresa.gerente.email:null)))]),a("q-item-label",{staticClass:"text-grey-8"},[t._v("\n                                  Tel.1:\n                                  "+t._s(t.bindText(t.detalheEmpresa.gerente?t.detalheEmpresa.gerente.contacto1:null)))]),a("q-item-label",{staticClass:"text-grey-8"},[t._v("\n                                  Tel.2:\n                                  "+t._s(t.bindText(t.detalheEmpresa.gerente?t.detalheEmpresa.gerente.contacto2:null)))]),a("q-item-label",{staticClass:"text-grey-8"},[t._v("\n                                  Tel.2:\n                                  "+t._s(t.bindText(t.detalheEmpresa.gerente?t.detalheEmpresa.gerente.contacto2:null)))]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}})],1)],1),a("q-separator",{attrs:{spaced:""}})],1)],1)],1)],1)],1),a("div",{staticClass:"col-md-12 q-mb-sm"},[a("q-expansion-item",{staticClass:"bg-grey-2 text-bold text-grey-9",attrs:{icon:"comment",label:"Composição Brigada"},model:{value:t.expandedx3,callback:function(e){t.expandedx3=e},expression:"expandedx3"}},[a("q-card",[a("q-card-section",{},[t.detalheEmpresa.composicaoBrigada!=[]?a("q-list",{staticClass:"text-grey-8"},[t._l(t.detalheEmpresa.composicaoBrigada,(function(e){return a("q-item",{key:e.idDetalhesTicketsDestinos,staticClass:"text-blue-9"},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"toll"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.destinoTicketsDTO?e.destinoTicketsDTO.descricao:"-----")+" - Qtd.: "+t._s(t.bindText(e.quantidade))+"\n                                  \n                                ")]),a("q-item-label",{staticClass:"text-bold",attrs:{caption:"",lines:"1"}})],1)],1)})),a("q-separator",{attrs:{spaced:""}})],2):t._e()],1)],1)],1)],1)]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"col-md-12 q-mb-sm q-ml-sm"},[a("div",{staticClass:"row q-mb-md q-gutter-sm"},[a("q-btn",{attrs:{size:"md",color:"grey-10",label:"Imprimir",icon:"print"}}),0==this.detalheEmpresa.historicos.length||this.detalheEmpresa.historicos.length>0&&this.detalheEmpresa.historicos.filter((function(t){return 1==t.dividaPaga})).length<1?a("q-btn",{attrs:{size:"md",color:"green-10",label:"Adicionar Histórico",icon:"list"},on:{click:function(e){return t.showEmpresa()}}}):t._e()],1),a("q-expansion-item",{staticClass:"bg-grey-0 text-bold text-grey-8 text-h6",attrs:{icon:"business",label:t.detalheEmpresa.nome},model:{value:t.expandedx,callback:function(e){t.expandedx=e},expression:"expandedx"}},[!t.detalheEmpresa.historicos||!t.detalheEmpresa.historicos.length?t._e():a("q-separator"),!t.detalheEmpresa.historicos||!t.detalheEmpresa.historicos.length?t._e():a("p",{staticClass:"text-bold text-grey-8 text-h6 q-ml-md q-mt-sm"},[t._v("Histórico ("+t._s(t.detalheEmpresa.historicos.length)+")")]),a("q-separator"),!t.detalheEmpresa.historicos||!t.detalheEmpresa.historicos.length?t._e():a("div",{staticClass:"text-white text-subtitle2"},t._l(t.detalheEmpresa.historicos,(function(e){return a("q-card",{key:e.id,staticClass:"text-grey-9 q-pt-sm"},[a("q-separator",{staticClass:"bg-grey text-bold"}),a("q-card-section",{class:e.dividaPaga?"bg-green-1":"bg-red-1"},[a("div",{staticClass:"text-h6"},[a("span",{staticClass:"text-bold"},[t._v(" == ")]),a("span",{class:e.dividaPaga?"text-green":"text-red"},[t._v("\n                              "+t._s(e.dividaPaga?"Dívida Paga":"Dívida Não Paga")+"\n                            ")]),a("span",{staticClass:"text-bold"},[t._v(" == ")])]),0==e.dividaPaga?a("div",{staticClass:"text-subtitle1"},[a("span",{staticClass:"text-bold"},[t._v("Motivo Não Pagamento: ")]),a("span",{staticClass:"text-grey"},[t._v("\n                              "+t._s(t.bindText(e.motivoNaoPagamento))+"\n                            ")])]):t._e(),a("div",{staticClass:"text-subtitle1"},[a("span",{staticClass:"text-bold"},[t._v("Estado: ")]),a("span",{staticClass:"text-grey"},[t._v("\n                              "+t._s(e.estado)+"\n                            ")])]),a("div",{staticClass:"text-subtitle1"},[a("span",{staticClass:"text-bold"},[t._v("Data Inserção:")]),a("span",{staticClass:"text-primary"},[t._v("\n                                "+t._s(t.getDataExt(e.dataInsercao))+"\n                              ")])]),a("div",{staticClass:"text-subtitle1"},[a("span",{staticClass:"text-bold"},[t._v("Data Conclusão da Dívida:")]),a("span",{staticClass:"text-primary"},[t._v("\n                                "+t._s(t.getDataExt(e.dataConclusaoDivida))+"\n                              ")])]),a("div",{staticClass:"text-subtitle1"},[a("span",{staticClass:"text-bold"},[t._v("Localização:")]),a("span",{staticClass:"text-primary"},[t._v("\n                                "+t._s(t.bindText(e.localizacao))+"\n                              ")])]),a("div",{staticClass:"text-subtitle1"},[a("span",{staticClass:"text-bold"},[t._v("Comentário(s):")]),a("span",{staticClass:"text-primary"},[t._v("\n                                "+t._s(t.bindText(e.comentarios))+"\n                              ")])])]),a("q-card-section",[a("q-btn",{attrs:{color:"orange",size:"md",icon:"edit",label:"Editar"},on:{click:function(a){return t.showEmpresaEdit(e)}}})],1),a("q-separator",{staticClass:"bg-green text-bold"})],1)})),1),a("q-separator",{staticClass:"bg-blue text-bold q-mt-sm"}),a("div",[t._e()],1),a("q-separator",{staticClass:"bg-orange text-bold"})],1)],1)])])])],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.btnAddEmpresa,callback:function(e){t.btnAddEmpresa=e},expression:"btnAddEmpresa"}},[a("q-card",{staticClass:"bg-white text-grey-8 no-border-radius",staticStyle:{width:"1200px","max-width":"80vw"}},[a("q-bar",{staticClass:"bg-info text-white"},[a("q-space"),a("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){t.btnAddEmpresa=!1}}},[a("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"content-class":"bg-white text-info"}},[t._v("Fechar")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6"},[a("div",[a("q-icon",{attrs:{size:"xl",name:"add"}}),t._v("Adicionar Histórico")],1)])]),a("q-card-section",[a("q-form",{staticClass:"form-group",on:{submit:function(e){return t.addHistorico(t.empresa)}}},[a("div",{staticClass:"row q-pb-md"},[a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-4 q-pr-xs"},[a("q-input",{attrs:{autofocus:"",label:"Data de Coclusão da Dívida",filled:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD"},model:{value:t.dateConclusao,callback:function(e){t.dateConclusao=e},expression:"dateConclusao"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary"}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.dateConclusao,callback:function(e){t.dateConclusao=e},expression:"dateConclusao"}})],1),a("div",{staticClass:"col-md-4 q-pr-xs"},[a("q-select",{attrs:{filled:"",options:t.optionsDividaPaga,"option-value":"id","option-label":"desc","option-disable":"inactive","emit-value":"",label:"Dívida","map-options":""},model:{value:t.modelDividaPaga,callback:function(e){t.modelDividaPaga=e},expression:"modelDividaPaga"}})],1),a("div",{staticClass:"col-md-4 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Motivo Não Pagamento",filled:""},model:{value:t.historicoData.MotivoNaoPagamento,callback:function(e){t.$set(t.historicoData,"MotivoNaoPagamento",e)},expression:"historicoData.MotivoNaoPagamento"}})],1)]),a("div",{staticClass:"row col-md-12 q-mt-sm"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Estado",filled:""},model:{value:t.historicoData.Estado,callback:function(e){t.$set(t.historicoData,"Estado",e)},expression:"historicoData.Estado"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Localização",filled:""},model:{value:t.historicoData.Localizacao,callback:function(e){t.$set(t.historicoData,"Localizacao",e)},expression:"historicoData.Localizacao"}})],1)]),a("div",{staticClass:"row col-md-12 q-mt-sm"},[a("div",{staticClass:"col-md-12 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Comentário(s)",filled:"",type:"textarea"},model:{value:t.historicoData.Comentarios,callback:function(e){t.$set(t.historicoData,"Comentarios",e)},expression:"historicoData.Comentarios"}})],1)])]),a("div",{staticClass:"row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"red","icon-right":"cancel",label:"Cancelar"},on:{click:function(e){t.btnAddEmpresa=!1}}}),null!=t.modelDividaPaga?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"info",type:"submit","icon-right":"send",label:"Confirmar"}}):t._e()],1)])],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.btnEditEmpresa,callback:function(e){t.btnEditEmpresa=e},expression:"btnEditEmpresa"}},[a("q-card",{staticClass:"bg-white text-grey-8 no-border-radius",staticStyle:{width:"1200px","max-width":"80vw"}},[a("q-bar",{staticClass:"bg-info text-white"},[a("q-space"),a("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){t.btnEditEmpresa=!1}}},[a("q-tooltip",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"content-class":"bg-white text-info"},on:{click:function(e){return t.showEmpresa()}}},[t._v("Fechar")])],1)],1),a("q-card-section",[a("div",{staticClass:"text-h6"},[a("div",[a("q-icon",{attrs:{size:"xl",name:"edit"}}),t._v("Alterar Histórico")],1)])]),a("q-card-section",[a("q-form",{staticClass:"form-group",on:{submit:function(e){return t.editarHistorico(t.empresa)}}},[a("div",{staticClass:"row q-pb-md"},[a("div",{staticClass:"row col-md-12"},[a("div",{staticClass:"col-md-4 q-pr-xs"},[a("q-input",{attrs:{autofocus:"",filled:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD"},model:{value:t.dateConclusao,callback:function(e){t.dateConclusao=e},expression:"dateConclusao"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary"}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.dateConclusao,callback:function(e){t.dateConclusao=e},expression:"dateConclusao"}})],1),a("div",{staticClass:"col-md-4 q-pr-xs"},[a("q-select",{attrs:{filled:"",options:t.optionsDividaPaga,"option-value":"id","option-label":"desc","option-disable":"inactive","emit-value":"",label:"Dívida","map-options":""},model:{value:t.modelDividaPaga,callback:function(e){t.modelDividaPaga=e},expression:"modelDividaPaga"}})],1),a("div",{staticClass:"col-md-4 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Motivo Não Pagamento",filled:""},model:{value:t.empresa.MotivoNaoPagamento,callback:function(e){t.$set(t.empresa,"MotivoNaoPagamento",e)},expression:"empresa.MotivoNaoPagamento"}})],1)]),a("div",{staticClass:"row col-md-12 q-mt-sm"},[a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Estado",filled:""},model:{value:t.historicoData.Estado,callback:function(e){t.$set(t.historicoData,"Estado",e)},expression:"historicoData.Estado"}})],1),a("div",{staticClass:"col-md-6 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Localização",filled:""},model:{value:t.historicoData.Localizacao,callback:function(e){t.$set(t.historicoData,"Localizacao",e)},expression:"historicoData.Localizacao"}})],1)]),a("div",{staticClass:"row col-md-12 q-mt-sm"},[a("div",{staticClass:"col-md-12 q-pr-xs"},[a("q-input",{attrs:{color:"blue-9",label:"Comentário(s)",filled:"",type:"textarea"},model:{value:t.historicoData.Comentarios,callback:function(e){t.$set(t.historicoData,"Comentarios",e)},expression:"historicoData.Comentarios"}})],1)])]),a("div",{staticClass:"row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{color:"red","icon-right":"cancel",label:"Cancelar"},on:{click:function(e){t.btnEditEmpresa=!1}}}),null!=t.modelDividaPaga?a("q-btn",{staticClass:"q-ml-md",attrs:{color:"light-blue",type:"submit","icon-right":"send",label:"Confirmar"}}):t._e()],1)])],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.showADDMAC,callback:function(e){t.showADDMAC=e},expression:"showADDMAC"}},[a("q-card",{staticClass:"bg-white text-grey-8 no-border-radius",staticStyle:{width:"1400px","max-width":"180vw"}},[a("q-bar",{staticClass:"bg-primary text-white"},[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Fechar")])],1)],1),a("q-card-section",[1==t.editb?a("div",{staticClass:"text-h6"},[t._v("Editar Máquinas(Brigada)")]):a("div",{staticClass:"text-h6"},[t._v("Adicionar Máquinas(Brigada)")])]),a("q-form",{staticClass:"form-group q-pa-md",on:{submit:function(e){return t.FUNCADDMACH()}}},[a("q-separator",{staticClass:"q-mb-md"}),a("q-select",{attrs:{filled:"","input-class":"text-blue text-bold","transition-show":"flip-up","transition-hide":"flip-down","use-input":"","input-debounce":"0","option-value":"idDestinoTickets","option-label":"descricao",label:"Máquina",options:t.listaMaquina,behavior:"menu"},on:{input:function(e){return t.escolherProvincia(e)},filter:t.filterFnMAQ},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("p",{staticClass:"text-center text-grey-6 text-bold"},[a("q-icon",{attrs:{size:"md",name:"sentiment_dissatisfied"}}),t._v("\n                        Nenhum Encontrado\n                      ")],1)])],1)]},proxy:!0}]),model:{value:t.modelMAQ,callback:function(e){t.modelMAQ=e},expression:"modelMAQ"}}),a("div",{staticClass:"q-mt-md"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"red",size:"sm",icon:"remove"},on:{click:function(){t.MACH.qtd>1?t.MACH.qtd--:t.MACH.qtd}}}),a("q-btn",{attrs:{color:"green",size:"sm",icon:"add"},on:{click:function(){t.MACH.qtd++}}}),a("div",{staticClass:"row col q-mt-sm"},[a("q-btn",{attrs:{color:"primary",icon:"opacity",label:"Quantidade: "+t.MACH.qtd}}),a("q-popup-edit",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.emitValue,s=e.set;return[a("q-input",{attrs:{autofocus:"",dense:"",type:"number",hint:"Quatidade de Produtos",value:t.MACH.qtd},on:{input:i},scopedSlots:t._u([{key:"after",fn:function(){return[a("q-btn",{attrs:{flat:"",dense:"",color:"green",icon:"check_circle"},on:{click:function(t){return t.stopPropagation(),s(t)}}})]},proxy:!0}],null,!0)})]}}]),model:{value:t.MACH.qtd,callback:function(e){t.$set(t.MACH,"qtd",t._n(e))},expression:"MACH.qtd"}})],1)],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("div",{staticClass:"row q-pt-sm q-gutter-md"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"red","icon-right":"cancel",label:"Cancelar"}}),0==t.editb?a("q-btn",{directives:[{name:"show",rawName:"v-show",value:null!=t.modelMAQ,expression:"modelMAQ != null"},{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"blue",type:"submit","icon-right":"save",label:"Guardar"}}):a("q-btn",{directives:[{name:"show",rawName:"v-show",value:null!=t.modelMAQ,expression:"modelMAQ != null"},{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"green",type:"submit","icon-right":"save",label:"Actualizar"}})],1)])],1)],1)],1)],1)])])},s=[],o=(a("6b54"),a("06db"),a("967e")),n=a.n(o),r=(a("96cf"),a("fa84")),l=a.n(r),c=(a("28a5"),a("b383"),a("cf57")),d=(a("e669"),a("6bed")),p=a("981c"),u=a("d272"),m={data:function(){var t=this;return{userLogado:JSON.parse(localStorage.getItem("userlogado")),detalheEmpresa:{},expandedx1:!0,expandedx:!0,expandedy0:!0,expandedx2:!0,expandedx3:!0,expandedx4:!0,expandedx5:!0,loadx:!1,empresa:{id:null,isActivo:!0},btnAddEmpresa:!1,btnEditEmpresa:!1,filter:"",columns:[{align:"left",label:"Operações",sortable:!0},{name:"descricao",required:!0,label:"Empresa",align:"left",field:function(e){return t.getNull(e.nome)},format:function(t){return"".concat(t)},sortable:!0},{name:"nif",required:!0,label:"NIF.",align:"left",field:function(e){return t.getNull(e.nif)},format:function(t){return"".concat(t)},sortable:!0},{name:"municipio",required:!0,label:"Província/Município",align:"left",field:function(e){return t.getNull(e.municipio?e.municipio.provincia.descricao:"")+" / "+t.getNull(e.municipio?e.municipio.descricao:"")},format:function(t){return"".concat(t)},sortable:!0},{name:"gerente",required:!0,label:"Gerente",align:"left",field:function(e){return t.getNull(e.gerente?e.gerente.nomeCompleto:"")},format:function(t){return"".concat(t)},sortable:!0},{name:"gerenteemail",required:!0,label:"E-mail *Gerente",align:"left",field:function(e){return t.getNull(e.gerente?e.gerente.email:"")},format:function(t){return"".concat(t)},sortable:!0},{name:"gerenteTel1",required:!0,label:"Contactos *Gerente",align:"left",field:function(e){return t.getNull(e.gerente?e.gerente.contacto1+" | "+e.gerente.contacto2+" | "+e.gerente.contacto3:"")},format:function(t){return"".concat(t)},sortable:!0}],data:[],menuInterno:"",onDet:!1,model:{idProvincia:null,descricao:null},modelP:{value:null,label:null},options:[],optionsP:[],stringOptions:[],stringOptionsP:[],spinner2:"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment,listaMunicipio:[],MACH:{IdDestino:null,qtd:1},showADDMAC:!1,listaMaquina:[],stringOptionsMAQ:[],modelMAQ:null,columnsMaquinas:[{align:"left",label:"Operações",sortable:!0},{name:"designacao",required:!0,label:"Produto (Designação)",align:"left",field:function(t){return t.designacao},format:function(t){return"".concat(t)},sortable:!0},{name:"valor",required:!0,label:"Preço",align:"left",format:function(t){return"".concat(t)},sortable:!0}],columnsCarrinho:[{align:"left",label:"Operações",sortable:!0},{name:"designacao",required:!0,label:"Produto (Designação)",align:"left",field:function(t){return t.designacao},format:function(t){return"".concat(t)},sortable:!0}],editb:!1,historicoData:{},dateConclusao:null,modelDividaPaga:{id:null,desc:null},optionsDividaPaga:[{id:!0,desc:"Paga"},{id:!1,desc:"Não Paga"}],testDD:0}},created:function(){this.fasSignal=u["b"],this.fasWifi=u["c"],this.fasBatteryFull=u["a"]},mounted:function(){this.listarMaquina(),this.listarProvincia(),this.listarMunicipio(),this.booting()},methods:{getDataExt:function(t){return t?t.split("T")[0].split("-")[2]+"/"+t.split("T")[0].split("-")[1]+"/"+t.split("T")[0].split("-")[0]+" "+t.split("T")[1].split(":")[0]+":"+t.split("T")[1].split(":")[1]:"----"},editarBrigada:function(){this.editb=!0,this.showADDMAC=!0,this.MACH={IdDestino:null,qtd:1}},listarMaquina:function(){var t=l()(n.a.mark((function t(){var e,a=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadx=!0,t.next=4,this.$store.dispatch("maquinas/list");case 4:e=t.sent,null!=e.data?this.timer=setTimeout((function(){a.timer=setTimeout((function(){a.$q.loading.hide(),a.timer=void 0,a.listaMaquina=e.data,a.stringOptionsMAQ=e.data}),1e3)}),0):this.lmsg("red","ups! Ocorreu um erro internamente","red"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.lmsgx("red-9",t.t0,"red-9");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),FUNCADDMACH:function(){var t=l()(n.a.mark((function t(){var e,a,i,s=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={IdDestinoTickets:this.modelMAQ.idDestinoTickets,IdEmpresa:this.detalheEmpresa.id,Quantidade:this.MACH.qtd},this.lprocessar(),a=[],a.push(e),console.log("ARRAY: ",a),t.prev=5,t.next=8,this.$store.dispatch("maquinas/addMaqEMp",a);case 8:i=t.sent,null!==i.data&&0===i.data.statusCode?this.timer=setTimeout((function(){s.$q.loading.show({spinner:s.spinner2,spinnerColor:"green-4",message:"Operação realidada com com sucesso!*"}),s.timer=setTimeout((function(){s.$q.loading.hide(),s.timer=void 0,s.listar()}),1e3)}),0):null!==i.data&&1===i.data.statusCode?this.lmsg("orange","Não foi possível realizar está operação!*","orange"):this.lmsgx("primary",error,"primary"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),this.lmsgx("primary",t.t0,"primary");case 15:case"end":return t.stop()}}),t,this,[[5,12]])})));function e(){return t.apply(this,arguments)}return e}(),showAddMACHINE:function(){this.editb=!1,this.showADDMAC=!0,this.MACH={IdDestino:null,qtd:1},this.modelMAQ=null},booting:function(){this.getAcessoMENU("admin")||this.getAcessoMENU("empresa")?this.goDetalhe({id:this.userLogado.idEmpresa}):this.$router.push("/dashboard")},getAcessoMENU:function(t){if(this.userLogado)return!(!this.userLogado||!this.userLogado.roles.filter((function(e){return e.nome.toString().toLowerCase()===t})).length)},lprocessar:function(){var t="undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears;"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment;this.$q.loading.show({spinner:t,message:"Por favor, aguarde alguns segundos..."})},lmsgx:function(t,e,a){var i=this,s="",o=("undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerGrid,"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment);e.response&&(s=401==e.response.status?"owh!! A sessão expirou, faça novamente o login.":"Ups! Ocorreu um erro, por favor tente novamente!"),this.timer=setTimeout((function(){i.$q.loading.show({spinner:o,spinnerColor:a,messageColor:"white",backgroundColor:t,message:s}),i.timer=setTimeout((function(){i.$q.loading.hide(),i.timer=void 0,e.response&&e.response.status&&401==e.response.status&&i.$router.push("/")}),3e3)}),0)},escolherProvincia:function(t){var e=this;this.stringOptionsP=[],this.listaMunicipio.forEach((function(a){a.idProvincia==t.idProvincia&&e.stringOptionsP.push({label:a.descricao,value:a.idAreaResponsavelTickets})})),this.modelP={value:null,label:null}},escolherProvincia2:function(t){var e=this;this.stringOptionsP=[],this.listaMunicipio.forEach((function(a){a.idProvincia==t.idProvincia&&e.stringOptionsP.push({label:a.descricao,value:a.idAreaResponsavelTickets})}))},listarMunicipio:function(){var t=l()(n.a.mark((function t(){var e,a=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("maquinas/listMunicipio");case 3:e=t.sent,null!=e.data&&(this.timer=setTimeout((function(){a.timer=setTimeout((function(){a.$q.loading.hide(),a.timer=void 0,a.listaMunicipio=e.data}),0)}),0)),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.lmsgx("primary",t.t0,"primary");case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),listarProvincia:function(){var t=l()(n.a.mark((function t(){var e,a=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("maquinas/listProvincia");case 3:e=t.sent,null!=e.data&&(this.timer=setTimeout((function(){a.timer=setTimeout((function(){a.$q.loading.hide(),a.timer=void 0,a.dataProvincia=e.data,a.stringOptions=e.data}),0)}),0)),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.lmsgx("primary",t.t0,"primary");case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),filterFnMAQ:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.listaMaquina=a.stringOptionsMAQ.filter((function(t){return t.descricao.toLowerCase().indexOf(e)>-1}))}:function(){a.listaMaquina=a.stringOptionsMAQ})},filterFn:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.options=a.stringOptions.filter((function(t){return t.descricao.toLowerCase().indexOf(e)>-1}))}:function(){a.options=a.stringOptions})},filterFnP:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.optionsP=a.stringOptionsP.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){a.optionsP=a.stringOptionsP})},bindText:function(t){return null==t||""==t?"------":t},goDetalhe:function(){var t=l()(n.a.mark((function t(e){var a,i=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.expandedy0=!1,this.objectoD={},this.lprocessar(),this.objectoD=e,t.prev=3,t.next=6,this.$store.dispatch("maquinas/empresaGetById",e.id);case 6:a=t.sent,console.log("Detalhe: ",a.data),a.data,this.timer=setTimeout((function(){i.timer=setTimeout((function(){i.$q.loading.hide(),i.timer=void 0,i.onDet=!0,i.detalheEmpresa=a.data,i.detalheEmpresa.historicos&&i.detalheEmpresa.historicos.filter((function(t){return 1==t.dividaPaga}))&&(i.testDD=i.testDD+1),i.onDet=!0,i.menuInterno="det"}),100)}),0),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),this.lmsgx("primary",t.t0,"primary");case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(e){return t.apply(this,arguments)}return e}(),getNull:function(t){return null==t||""==t?"------":t},addHistorico:function(){var t=l()(n.a.mark((function t(e){var a,i=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.lprocessar(),this.historicoData.DataConclusaoDivida=this.dateConclusao,this.historicoData.DividaPaga=this.modelDividaPaga,this.historicoData.IdEmpresa=this.detalheEmpresa.id,t.prev=4,t.next=7,this.$store.dispatch("maquinas/addHistorico",this.historicoData);case 7:a=t.sent,null!==a.data&&0===a.data.statusCode?this.timer=setTimeout((function(){i.$q.loading.show({spinner:i.spinner2,spinnerColor:"green-4",message:"Operação realidada com com sucesso!*"}),i.timer=setTimeout((function(){i.$q.loading.hide(),i.timer=void 0,i.goDetalhe(i.detalheEmpresa),i.dateConclusao=null,i.modelDividaPaga={id:null,desc:null}}),1e3)}),0):null!==a.data&&1===a.data.statusCode?this.lmsg("orange","Não foi possível realizar está operação!*","orange"):this.lmsgx("primary",error,"primary"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),this.lmsgx("primary",t.t0,"primary");case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(e){return t.apply(this,arguments)}return e}(),editarHistorico:function(){var t=l()(n.a.mark((function t(e){var a,i=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.historicoData.DataConclusaoDivida=this.dateConclusao,this.historicoData.DividaPaga=this.modelDividaPaga,this.historicoData.IdEmpresa=this.detalheEmpresa.id,this.lprocessar(),console.log("Dados Edit: ",this.historicoData),t.prev=5,t.next=8,this.$store.dispatch("maquinas/editHistorico",this.historicoData);case 8:a=t.sent,console.log("RES: ",a),null!==a.data&&0===a.data.statusCode?this.timer=setTimeout((function(){i.$q.loading.show({spinner:i.spinner2,spinnerColor:"green-4",message:"Operação realidada com com sucesso!*"}),i.timer=setTimeout((function(){i.$q.loading.hide(),i.timer=void 0,i.goDetalhe(i.detalheEmpresa),i.dateConclusao=null,i.modelDividaPaga={id:null,desc:null},i.btnEditEmpresa=!1}),1e3)}),0):null!==a.data&&1===a.data.statusCode?this.lmsg("orange","Não foi possível realizar está operação!*","orange"):this.lmsgx("primary",error,"primary"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),this.lmsgx("primary",t.t0,"primary");case 16:case"end":return t.stop()}}),t,this,[[5,13]])})));function e(e){return t.apply(this,arguments)}return e}(),showEmpresa:function(){this.btnAddEmpresa=!this.btnAddEmpresa,this.historicoData={},this.modelDividaPaga={id:null,desc:null},this.dateConclusao=null,this.empresa={},this.btnEditEmpresa=!1},showEmpresaEdit:function(t){console.log("Editar: ",t),this.btnEditEmpresa=!this.btnAddEmpresa,this.modelDividaPaga.id=t.DividaPaga,this.modelDividaPaga.desc=t.DividaPaga?"Paga":"Não Paga",this.dateConclusao=t.dataConclusaoDivida?t.dataConclusaoDivida.toString().split("T")[0]:null,this.historicoData.MotivoNaoPagamento=t.motivoNaoPagamento,this.historicoData.Localizacao=t.localizacao,this.historicoData.Comentarios=t.comentarios,this.historicoData.Estado=t.estado,console.log("Editar DA: ",this.historicoData)},lmsg:function(t,e,a){var i=this,s=("undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears,"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment);this.timer=setTimeout((function(){i.$q.loading.show({spinner:s,spinnerColor:a,messageColor:"white",backgroundColor:t,message:e}),i.timer=setTimeout((function(){i.$q.loading.hide(),i.timer=void 0}),1e3)}),100)},getSelectedString:function(){return 0===this.selected.length?"":"".concat(this.selected.length," linha").concat(this.selected.length>1?"s":""," selecionada").concat(this.selected.length>1?"s":""," de ").concat(this.data.length," Registro").concat(this.data.length>1?"s":"")},listar:function(){var t=l()(n.a.mark((function t(){var e,a=this;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.filter="","undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment,t.prev=2,this.loadx=!0,t.next=6,this.$store.dispatch("maquinas/listEmpresas");case 6:e=t.sent,null!=e.data?this.timer=setTimeout((function(){a.timer=setTimeout((function(){a.$q.loading.hide(),a.timer=void 0,a.data=e.data,a.lista=e.data,a.loadx=!1}),1e3)}),0):this.lmsg("red","ups! Ocorreu um erro internamente","red"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.lmsgx("red-9",t.t0,"red-9");case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}()}},h=m,v=a("2877"),g=a("eebe"),b=a.n(g),f=a("9989"),q=a("d847"),x=a("0016"),C=a("2c91"),D=a("9c40"),w=a("429b"),E=a("7460"),y=a("adad"),P=a("823b"),_=a("007d"),k=a("eaac"),M=a("27f9"),A=a("bd08"),Q=a("db86"),T=a("f20b"),N=a("3b73"),$=a("f09f"),O=a("a370"),S=a("1c1c"),H=a("66e5"),I=a("4074"),z=a("0170"),L=a("eb85"),F=a("24e8"),B=a("05c0"),G=a("0378"),Y=a("7cbe"),R=a("52ee"),U=a("ddd8"),j=a("42a1"),J=a("4b7e"),K=a("7f67"),V=a("714f"),W=Object(v["a"])(h,i,s,!1,null,"354115da",null);e["default"]=W.exports;b()(W,"components",{QPage:f["a"],QBar:q["a"],QIcon:x["a"],QSpace:C["a"],QBtn:D["a"],QTabs:w["a"],QTab:E["a"],QTabPanels:y["a"],QTabPanel:P["a"],QSpinnerTail:_["a"],QTable:k["a"],QInput:M["a"],QTr:A["a"],QTd:Q["a"],QBtnDropdown:T["a"],QExpansionItem:N["a"],QCard:$["a"],QCardSection:O["a"],QList:S["a"],QItem:H["a"],QItemSection:I["a"],QItemLabel:z["a"],QSeparator:L["a"],QDialog:F["a"],QTooltip:B["a"],QForm:G["a"],QPopupProxy:Y["a"],QDate:R["a"],QSelect:U["a"],QPopupEdit:j["a"],QCardActions:J["a"]}),b()(W,"directives",{ClosePopup:K["a"],Ripple:V["a"]})}}]);