(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{aeab:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("q-page",{staticClass:"docs-input row justify-center"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-3 col-sm-6 col-xs-12 q-pa-md"},[s("div",{staticClass:"text-center q-pb-xs"},[s("div",{staticClass:"text-grey-7"},[s("q-toolbar"),s("q-toolbar",{attrs:{inset:""}},[s("q-breadcrumbs",{staticStyle:{"font-size":"25px"},attrs:{"active-color":"white"}})],1),s("q-toolbar",{attrs:{inset:""}},[s("q-breadcrumbs",{staticStyle:{"font-size":"25px"},attrs:{"active-color":"white"}})],1),s("q-avatar",{staticStyle:{cursor:"pointer"},attrs:{clickable:""},on:{click:function(e){return t.goInfo()}}},[s("q-icon",{staticClass:"text-blue-9",attrs:{size:"md",name:"copyright"}})],1),s("label",{staticClass:"text-blue-9",staticStyle:{cursor:"pointer"},attrs:{clickable:""},on:{click:function(e){return t.goInfo()}}},[s("b",[t._v("Desenvolvido por: Infoscript")])])],1)]),s("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[s("q-input",{attrs:{filled:"",color:"grey",label:"Ex: carlos43 *",hint:"Utilizador",error:t.isTest,required:"","lazy-rules":"",rules:[function(e){return e&&e.length>3||"Utilizador Inválido"}]},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),s("q-input",{attrs:{color:"grey",filled:"",type:t.isPwd?"password":"text",label:"Ex: 142135 *",hint:"Palavra-passe","lazy-rules":"",rules:[function(e){return e&&e.length>3||"Palavra-Passe Inválida"}]},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{error:t.isTest,name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),s("div",{staticClass:"row"},[s("q-btn",{staticClass:"full-width no-border-radius",staticStyle:{height:"45px"},attrs:{padding:"",label:"Entrar",type:"submit",color:"info"}})],1)],1),s("q-dialog",{attrs:{persistent:"",position:"top"},model:{value:t.recover_password,callback:function(e){t.recover_password=e},expression:"recover_password"}},[s("q-card",{},[s("q-linear-progress",{attrs:{value:1,color:"primary"}}),s("q-card-section",{staticClass:"row items-center no-wrap q-gutter-md"},[s("q-form",{staticClass:"row q-gutter-md",on:{submit:function(e){return t.changePassword()}}},[s("div",{staticClass:"col-md-12"},[s("p",{staticClass:"text-subtitle1 text-bold text-grey-7"},[t._v('\n                  "Por Motivos de Segurança pedimos encarecidamente que\n                  '),s("b",{staticClass:"text-primary"},[t._v("altere a sua Palavra-Passe")]),t._v(', Por\n                  Favor!"\n                ')])]),s("div",{staticClass:"col-md-12"},[s("q-input",{attrs:{autofocus:"",label:"Nova Palavra-Passe",filled:"",type:t.isPwdx?"password":"text","lazy-rules":"",rules:[function(e){return e&&e.length>5&&"123456"!==e||"Não pode ter Menos de 6 caract. e Não pode ser 123456"}]},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{error:t.isTestx,name:t.isPwdx?"visibility_off":"visibility"},on:{click:function(e){t.isPwdx=!t.isPwdx}}})]},proxy:!0}]),model:{value:t.pass.NovaPassword,callback:function(e){t.$set(t.pass,"NovaPassword",e)},expression:"pass.NovaPassword"}})],1),s("div",{staticClass:"col-md-12"},[s("q-input",{attrs:{label:"Confirmar Palavra-Passe",filled:"",type:t.isPwdx?"password":"text","lazy-rules":"",rules:[function(t){return t&&t===e.pass.NovaPassword||"Confirmação diferente da Nova Palavra-Passe"}]},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{error:t.isTestx,name:t.isPwdx?"visibility_off":"visibility"},on:{click:function(e){t.isPwdx=!t.isPwdx}}})]},proxy:!0}]),model:{value:t.confPass,callback:function(e){t.confPass=e},expression:"confPass"}})],1),s("div",{staticClass:"col-md-12"},[s("q-btn",{staticClass:"q-ml-md",attrs:{color:"blue-7",type:"submit","icon-right":"send",label:"Actualizar"}})],1)]),s("q-space")],1)],1)],1)],1)])},r=[],o=a("967e"),i=a.n(o),n=(a("96cf"),a("fa84")),l=a.n(n),c=(a("bc3a"),a("b383")),u=a.n(c),d=a("cf57"),p=(a("e669"),a("6bed")),m={name:"PageIndex",data:function(){return{recover_password:!1,userLogado:JSON.parse(localStorage.getItem("userlogado")),isTestx:!1,isPwdx:!0,pass:{Username:null,PasswordAntiga:"123456",NovaPassword:null},confPass:null,user:{username:null,password:null,grant_type:"password"},userLogged:{},isTest:!1,isPwd:!0,changeId:null}},methods:{goInfo:function(){window.open("https://www.infoscriptlt.com/","_blank")},lprocessar:function(){var e="undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerGears;"undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment;this.$q.loading.show({spinner:e,message:"Por favor, aguarde alguns segundos..."})},lmsg:function(e,t,a){var s=this,r=("undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerGears,"undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment);this.timer=setTimeout((function(){s.$q.loading.show({spinner:r,spinnerColor:a,messageColor:"white",backgroundColor:e,message:t}),s.timer=setTimeout((function(){s.$q.loading.hide(),s.timer=void 0}),3e3)}),0)},changePassword:function(){var e=l()(i.a.mark((function e(){var t,a,s=this;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment,this.lprocessar(),e.prev=2,e.next=5,this.$store.dispatch("users/reiniciarPalavraPasse",{Id:this.changeId,NovaPassword:this.pass.NovaPassword});case 5:a=e.sent,0==a.data.statusCode?this.timer=setTimeout((function(){s.$q.loading.show({spinner:t,spinnerColor:"green-4",message:"Palavra-Passe Actualizada com sucesso*"}),s.timer=setTimeout((function(){s.$q.loading.hide(),s.timer=void 0,s.changeId=null,s.$router.push("/dashboard")}),1e3)}),0):this.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),this.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red");case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}(),logout:function(){localStorage.removeItem("Authorization"),localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("state"),localStorage.removeItem("personId"),localStorage.removeItem("fullName"),localStorage.removeItem("userlogado")},onSubmit:function(){var e=l()(i.a.mark((function e(){var t,a,s,r=this;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.changeId=null,t="undefined"!==typeof p["a"]?p["a"]:Quasar.components.QSpinnerComment,null!=this.user.username&&null!=this.user.password&&""!=this.user.username&&""!=this.user.password){e.next=5;break}e.next=28;break;case 5:return this.lprocessar(),e.prev=6,e.next=9,this.$store.dispatch("login/login",u.a.stringify(this.user));case 9:return a=e.sent,localStorage.setItem("Authorization",a.data.access_token),e.next=13,this.$store.dispatch("login/userLogged");case 13:s=e.sent,localStorage.setItem("userlogado",JSON.stringify(s.data)),localStorage.setItem("username",s.data.login),localStorage.setItem("userId",s.data.idUtilizador),localStorage.setItem("email",s.data.email),localStorage.setItem("state",s.data.isActivo),localStorage.setItem("fullName",s.data.nome),this.changeId=s.data.idUtilizador,null===s.data||"true"!=s.data.isActivo&&1!=s.data.isActivo?null===s.data||"false"!=s.data.isActivo&&0!=s.data.isActivo&&null!=s.data.isActivo||(this.lmsg("red","Este Utilizador Está Desativado! * ".concat(this.user.username),"red"),this.logout()):this.timer=setTimeout((function(){r.$q.loading.show({spinner:t,spinnerColor:"green-4",message:"Acesso Permido, Bem-Vindo * ".concat(JSON.parse(localStorage.getItem("userlogado")).nome)}),r.timer=setTimeout((function(){r.$q.loading.hide(),r.timer=void 0,"123456"==r.user.password?r.recover_password=!0:r.$router.push("/dashboard")}),1e3)}),0),e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](6),this.lmsg("red","Ups!... Utlizador Ou Palavra-Passe Incorrecta, por favor verifique!","red"),this.logout();case 28:case"end":return e.stop()}}),e,this,[[6,24]])})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){void 0!==this.timer&&(clearTimeout(this.timer),this.$q.loading.hide())}}},f=m,v=a("2877"),g=a("eebe"),h=a.n(g),w=a("9989"),b=a("65c6"),P=a("ead5"),x=a("cb32"),y=a("0016"),q=a("0378"),S=a("27f9"),I=a("9c40"),C=a("24e8"),k=a("f09f"),Q=a("6b1d"),_=a("a370"),N=a("2c91"),z=Object(v["a"])(f,s,r,!1,null,null,null);t["default"]=z.exports;h()(z,"components",{QPage:w["a"],QToolbar:b["a"],QBreadcrumbs:P["a"],QAvatar:x["a"],QIcon:y["a"],QForm:q["a"],QInput:S["a"],QBtn:I["a"],QDialog:C["a"],QCard:k["a"],QLinearProgress:Q["a"],QCardSection:_["a"],QSpace:N["a"]})}}]);