(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"6b7b":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=this,a=s.$createElement,e=s._self._c||a;return e("q-page",{staticClass:"flex bg-white"},[e("div",{staticClass:"full-width"},[e("div",{staticClass:"q-ma-sm"},[e("q-bar",{staticClass:"bg-grey-4 text-grey-7 text-bold",staticStyle:{height:"47px"},attrs:{dense:""}},[e("q-icon",{staticClass:"q-pr-md",staticStyle:{"padding-left":"27px"},attrs:{size:"sm",name:"account_box"}}),e("div",[s._v("Meu Perfil")]),e("q-space"),e("q-icon",{attrs:{name:"near_me"}})],1),e("q-card",{staticClass:"my-card q-mt-sm no-border-radius"},[e("q-list",[e("q-item",{staticClass:"bg-grey-3 q-mb-md"},[e("q-item-section",{attrs:{avatar:""}},[e("img",{attrs:{src:"statics/logo/userx.png",width:"60",height:"60"}})]),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-9 text-bold"},[s._v(s._s(s.getText(s.userLogado.nome)))]),e("q-item-label",{staticClass:"text-grey-9",attrs:{caption:""}},[s._v("usr.: "+s._s(s.getText(s.userLogado.login)))])],1)],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"red",name:"person"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-7"},[e("b",[s._v(s._s(s.getText(s.userLogado.login)))])]),e("q-item-label",{attrs:{caption:""}},[s._v("Utilizador")])],1)],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"amber",name:"settings_input_composite"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-7"},s._l(s.userLogado.permissoes,(function(t){return e("q-badge",{key:t.idPermissao,staticClass:"q-mr-md",attrs:{color:"grey-8"}},[s._v(s._s(t.nome))])})),1),e("q-item-label",{attrs:{caption:""}},[s._v("Permissões")])],1)],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"blue-5",name:"email"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"text-grey-7"},[e("b",[s._v(s._s(s.getText(s.userLogado.email)))])]),e("q-item-label",{attrs:{caption:""}},[s._v("E-mail")])],1)],1),e("q-item",{staticClass:"q-pb-md",attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{color:"green",name:"touch_app"}})],1),e("q-item-section",[e("q-item-label",{class:1==s.userLogado.isActivo?"text-green-7 text-bold":"text-red-7 text-bold"},[s._v(s._s(1==s.getText(s.userLogado.isActivo)?"Activo":"Inativo"))]),e("q-item-label",{attrs:{caption:""}},[s._v("Estado")])],1)],1),e("q-separator"),e("q-item",{staticClass:"q-pb-md q-pt-md"},[e("q-item-section",[e("q-item-label",{staticClass:"q-gutter-sm"},[e("q-btn",{staticClass:"bg-pink-5 text-white",attrs:{size:"md",label:"Alterar Palavra-Passe"},on:{click:function(t){s.recover_password=!0}}})],1)],1)],1)],1)],1)],1)]),e("q-dialog",{attrs:{persistent:"",position:"top"},model:{value:s.recover_password,callback:function(t){s.recover_password=t},expression:"recover_password"}},[e("q-card",{},[e("q-linear-progress",{attrs:{value:1,color:"primary"}}),e("q-card-section",{staticClass:"row items-center no-wrap q-gutter-md"},[e("q-form",{staticClass:"row q-gutter-md",on:{submit:function(t){return s.changePassword()}}},[e("div",{staticClass:"col-md-12"},[e("q-input",{attrs:{autofocus:"",label:"Palavra-Passe Antiga",filled:"",type:s.isPwd?"password":"text","lazy-rules":"",rules:[function(t){return t&&t.length>5||"Palavra-Passe Inválida"}]},scopedSlots:s._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{error:s.isTest,name:s.isPwd?"visibility_off":"visibility"},on:{click:function(t){s.isPwd=!s.isPwd}}})]},proxy:!0}]),model:{value:s.pass.PasswordAntiga,callback:function(t){s.$set(s.pass,"PasswordAntiga",t)},expression:"pass.PasswordAntiga"}})],1),e("div",{staticClass:"col-md-12"},[e("q-input",{attrs:{label:"Nova Palavra-Passe",filled:"",type:s.isPwd?"password":"text","lazy-rules":"",rules:[function(t){return t&&t.length>5&&"123456"!==t||"Não pode ter Menos de 6 caract. e Não pode ser 123456"}]},scopedSlots:s._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{error:s.isTest,name:s.isPwd?"visibility_off":"visibility"},on:{click:function(t){s.isPwd=!s.isPwd}}})]},proxy:!0}]),model:{value:s.pass.NovaPassword,callback:function(t){s.$set(s.pass,"NovaPassword",t)},expression:"pass.NovaPassword"}})],1),e("div",{staticClass:"col-md-12"},[e("q-input",{attrs:{label:"Confirmar Palavra-Passe",filled:"",type:s.isPwd?"password":"text","lazy-rules":"",rules:[function(s){return s&&s===t.pass.NovaPassword||"Confirmação diferente da Nova Palavra-Passe"}]},scopedSlots:s._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{error:s.isTest,name:s.isPwd?"visibility_off":"visibility"},on:{click:function(t){s.isPwd=!s.isPwd}}})]},proxy:!0}]),model:{value:s.confPass,callback:function(t){s.confPass=t},expression:"confPass"}})],1),e("div",{staticClass:"col-md-12"},[e("q-btn",{staticClass:"q-ml-md",attrs:{color:"red","icon-right":"cancel",label:"Cancelar"},on:{click:function(t){return s.cleanCampos()}}}),e("q-btn",{staticClass:"q-ml-md",attrs:{color:"blue-7",type:"submit","icon-right":"send",label:"Actualizar"}})],1)]),e("q-space")],1)],1)],1)],1)},i=[],r=a("967e"),o=a.n(r),n=(a("96cf"),a("fa84")),l=a.n(n),c=(a("b383"),a("cf57")),d=(a("e669"),a("6bed")),u={data:function(){return{tab:"itens",recover_password:!1,userLogado:JSON.parse(localStorage.getItem("userlogado")),text:"",isTest:!1,isPwd:!0,pass:{Username:null,PasswordAntiga:null,NovaPassword:null},confPass:null}},mounted:function(){},methods:{lprocessar:function(){var t="undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears;"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment;this.$q.loading.show({spinner:t,message:"Por favor, aguarde alguns segundos..."})},lmsg:function(t,s,a){var e=this,i=("undefined"!==typeof c["a"]?c["a"]:Quasar.components.QSpinnerGears,"undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment);this.timer=setTimeout((function(){e.$q.loading.show({spinner:i,spinnerColor:a,messageColor:"white",backgroundColor:t,message:s}),e.timer=setTimeout((function(){e.$q.loading.hide(),e.timer=void 0}),3e3)}),3e3)},cleanCampos:function(){this.pass.PasswordAntiga=null,this.pass.NovaPassword=null,this.confPass=null,this.recover_password=!1},getText:function(t){return""==t||null==t?"------":t},changePassword:function(){var t=l()(o.a.mark((function t(){var s,a,e=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="undefined"!==typeof d["a"]?d["a"]:Quasar.components.QSpinnerComment,this.lprocessar(),t.prev=2,this.pass.Username=this.userLogado.login,t.next=6,this.$store.dispatch("users/changePassword",this.pass);case 6:a=t.sent,0==a.data.statusCode?this.timer=setTimeout((function(){e.$q.loading.show({spinner:s,spinnerColor:"green-4",message:"Palavra-Passe Actualizada com sucesso*"}),e.timer=setTimeout((function(){e.$q.loading.hide(),e.timer=void 0,e.cleanCampos()}),1e3)}),0):this.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.lmsg("red","ups!Não foi possível alterar, verifique a palavra-passe antiga! *","red");case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));function s(){return t.apply(this,arguments)}return s}()}},p=u,m=a("2877"),g=a("eebe"),f=a.n(g),v=a("9989"),q=a("d847"),b=a("0016"),w=a("2c91"),P=a("f09f"),h=a("1c1c"),C=a("66e5"),x=a("4074"),y=a("0170"),_=a("9c40"),Q=a("58a8"),k=a("eb85"),S=a("24e8"),T=a("6b1d"),N=a("a370"),A=a("0378"),L=a("27f9"),$=Object(m["a"])(p,e,i,!1,null,null,null);s["default"]=$.exports;f()($,"components",{QPage:v["a"],QBar:q["a"],QIcon:b["a"],QSpace:w["a"],QCard:P["a"],QList:h["a"],QItem:C["a"],QItemSection:x["a"],QItemLabel:y["a"],QBtn:_["a"],QBadge:Q["a"],QSeparator:k["a"],QDialog:S["a"],QLinearProgress:T["a"],QCardSection:N["a"],QForm:A["a"],QInput:L["a"]})}}]);